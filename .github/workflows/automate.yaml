
name: Clone Public Repository Workflow

on:
  push

jobs:    
  job-public-repo-ubuntu:
    runs-on: ubuntu-latest
    steps:
      
      - name: Clone GuillaumeFalourd/poc-github-actions PUBLIC repository
        uses: GuillaumeFalourd/clone-github-repo-action@v2
        with:
          owner: 'anapitalai'
          repository: 'raliku-holdings'
      
      - name: Access cloned repository content
        run: |
          echo "ROOT"
          ls -la
          echo "CLONED REPO"
          cd raliku-holdings
          ls -la
  vps-operations:
    runs-on: self-hosted
    steps: 
      - name: copy code into VPS
        uses: actions/checkout@v3
      - name: sek tasol
        run: npm ci
      - name: front-end build
        run: npm run build
        
        
##/root/actions-runner/_work/raliku-holdings/raliku-holdings
# name: Deployment


# on: push                    
# jobs:
#   installs:
#     runs-on: ubuntu-latest    
#     steps: 
#     - name: Get code from local to gh runner
#       uses: actions/checkout@v3


#     - name: Copy folder content recursively to remote VPS
#       uses: garygrossgarten/github-action-scp@release
#       with:
#           local: /home/runner/work/raliku-holdings/
#           remote: /root/git-clones/
#           host: ${{ secrets.HOST }}
#           username: ${{ secrets.USER }}
#           password: ${{ secrets.PASSWORD }}
#   prep-deploy:
#     runs-on: self-hosted    
#     steps: 
#     - name: Get to the project dir
#       run: cd /root/git-clones/raliku-holdings
#     - name: install and build
#       run: npm ci
#     - name: install frontend deps
#       run: npm run build && npm run dev 